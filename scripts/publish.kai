#!/usr/bin/env kaish

# Publish kaish crates to crates.io in dependency order.
#
# Leaf crates first (no internal deps), then up the tree:
#   kaish-glob, kaish-types      (no internal deps)
#   kaish-kernel                  (depends on glob, types)
#   kaish-client                  (depends on kernel)
#   kaish-mcp, kaish-repl         (depends on kernel, client)

for crate in kaish-glob kaish-types kaish-kernel kaish-client kaish-mcp kaish-repl; do
    echo "ğŸ“¦ Publishing $crate..."
    cargo publish -p "$crate"
    echo "âœ… $crate published"
done

echo "ğŸ‰ All crates published! Try: cargo install kaish"
